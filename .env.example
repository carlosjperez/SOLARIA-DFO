# SOLARIA Digital Field Operations - Environment Configuration
# Version: 4.0.0 - Professional Dev/Prod Separation
#
# SETUP INSTRUCTIONS:
# 1. Copy this file: cp .env.example .env
# 2. Update values according to your environment (dev vs prod)
# 3. NEVER commit .env to git (already in .gitignore)
#
# IMPORTANT: Do NOT use special characters (!@#$%^&*) in passwords
# They cause shell escaping issues in Docker entrypoints

# =============================================================================
# ENVIRONMENT SELECTION
# =============================================================================
# Options: development | production
NODE_ENV=development

# =============================================================================
# DATABASE CREDENTIALS
# =============================================================================
# Simple alphanumeric passwords recommended for bash compatibility

# Development (simple, not secure)
DB_PASSWORD=solaria2024
MYSQL_ROOT_PASSWORD=SolariaRoot2024

# Production (use strong passwords in real deployment)
# DB_PASSWORD=YOUR_STRONG_PASSWORD_HERE
# MYSQL_ROOT_PASSWORD=YOUR_STRONG_ROOT_PASSWORD_HERE

DB_NAME=solaria_construction
DB_USER=solaria_user

# =============================================================================
# APPLICATION SECRETS
# =============================================================================

# JWT Secret - MUST be 32+ characters
# Development (NOT for production!)
JWT_SECRET=solaria_jwt_secret_dev_not_for_production

# Production (generate with: openssl rand -base64 32)
# JWT_SECRET=YOUR_SECURE_JWT_SECRET_HERE_MIN_32_CHARS

# Dashboard credentials
DASHBOARD_USER=carlosjperez
DASHBOARD_PASS=bypass

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
PORT=3030

# Allow default "Bearer default" token (dev only, disable in prod)
ALLOW_DEFAULT_TOKEN=true

# =============================================================================
# PROJECT INGESTION (Optional)
# =============================================================================
# Path to repository to monitor/ingest
REPO_PATH=/path/to/your/project
PROJECT_NAME=MyProject
PROJECT_TYPE=software
CI_MODE=false

# =============================================================================
# REDIS (DFO 4.0 - Agent Execution Engine)
# =============================================================================
# Redis connection for BullMQ job queue and caching
REDIS_URL=redis://redis:6379
# REDIS_PASSWORD=  # Optional: Set if Redis requires authentication

# =============================================================================
# OPTIONAL: External Services
# =============================================================================
# OpenAI API key for AI agent features (optional)
OPENAI_API_KEY=

# MinIO storage (only needed with --profile storage)
MINIO_ROOT_USER=solaria_admin
MINIO_ROOT_PASSWORD=minio_secure_2024

# =============================================================================
# DEVELOPMENT vs PRODUCTION NOTES
# =============================================================================
#
# DEVELOPMENT (.env for docker/dev/docker-compose.yml):
# - NODE_ENV=development
# - Simple passwords (solaria2024, etc.)
# - JWT_SECRET can be simple (dev_not_for_production)
# - ALLOW_DEFAULT_TOKEN=true
# - Logs verbose
#
# PRODUCTION (.env for docker/prod/docker-compose.yml):
# - NODE_ENV=production
# - Strong, unique passwords (32+ chars recommended)
# - JWT_SECRET generated with openssl rand -base64 32
# - ALLOW_DEFAULT_TOKEN=false (security)
# - Logs minimal
#
# SECURITY CHECKLIST FOR PRODUCTION:
# [ ] Changed all default passwords
# [ ] Generated strong JWT_SECRET (32+ chars)
# [ ] Set ALLOW_DEFAULT_TOKEN=false
# [ ] Reviewed and restricted DB_USER permissions
# [ ] Enabled firewall on server
# [ ] Configured SSL/TLS certificates
# [ ] Set up automated backups
# [ ] Configured monitoring and alerts
