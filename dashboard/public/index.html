<!DOCTYPE html>
<html lang="es" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOLARIA Field Operations - C-Suite Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        border: '#27272a',
                        input: '#27272a',
                        ring: '#f6921d',
                        background: '#09090b',
                        foreground: '#fafafa',
                        primary: {
                            DEFAULT: '#f6921d',
                            foreground: '#ffffff',
                        },
                        secondary: {
                            DEFAULT: '#27272a',
                            foreground: '#fafafa',
                        },
                        destructive: {
                            DEFAULT: '#dc2626',
                            foreground: '#fafafa',
                        },
                        muted: {
                            DEFAULT: '#27272a',
                            foreground: '#a1a1aa',
                        },
                        accent: {
                            DEFAULT: '#f6921d',
                            foreground: '#ffffff',
                        },
                        card: {
                            DEFAULT: '#18181b',
                            foreground: '#fafafa',
                        },
                        solaria: {
                            DEFAULT: '#f6921d',
                            light: '#f9a94d',
                            dark: '#d47a0f',
                        },
                    },
                    borderRadius: {
                        lg: '0.5rem',
                        md: '0.375rem',
                        sm: '0.25rem',
                    },
                }
            }
        }
    </script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; border-color: #27272a; }
        html, body { height: 100%; width: 100%; }
        body { font-family: 'Inter', system-ui, sans-serif; background-color: #09090b; color: #fafafa; line-height: 1.5; }

        /* Layout utilities */
        .min-h-screen { min-height: 100vh; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .flex-1 { flex: 1; }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .gap-2 { gap: 0.5rem; }
        .gap-3 { gap: 0.75rem; }
        .gap-4 { gap: 1rem; }
        .gap-6 { gap: 1.5rem; }
        .p-4 { padding: 1rem; }
        .p-6 { padding: 1.5rem; }
        .p-8 { padding: 2rem; }
        .px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
        .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mb-8 { margin-bottom: 2rem; }
        .mt-4 { margin-top: 1rem; }
        .ml-64 { margin-left: 16rem; }
        .w-full { width: 100%; }
        .w-64 { width: 16rem; }
        .w-12 { width: 3rem; }
        .h-12 { height: 3rem; }
        .h-64 { height: 16rem; }
        .h-full { height: 100%; }
        .max-w-md { max-width: 28rem; }
        .text-xs { font-size: 0.75rem; }
        .text-sm { font-size: 0.875rem; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-3xl { font-size: 1.875rem; }
        .text-4xl { font-size: 2.25rem; }
        .font-medium { font-weight: 500; }
        .font-semibold { font-weight: 600; }
        .font-bold { font-weight: 700; }
        .text-center { text-align: center; }
        .text-white { color: #ffffff; }
        .text-foreground { color: #fafafa; }
        .text-muted-foreground { color: #a1a1aa; }
        .text-solaria { color: #f6921d; }
        .bg-card { background-color: #18181b; }
        .bg-secondary { background-color: #27272a; }
        .bg-background { background-color: #09090b; }
        .bg-solaria { background-color: #f6921d; }
        .rounded-lg { border-radius: 0.5rem; }
        .rounded-xl { border-radius: 0.75rem; }
        .rounded-2xl { border-radius: 1rem; }
        .rounded-full { border-radius: 9999px; }
        .border { border-width: 1px; }
        .border-b { border-bottom-width: 1px; }
        .border-r { border-right-width: 1px; }
        .border-border { border-color: #27272a; }
        .fixed { position: fixed; }
        .relative { position: relative; }
        .absolute { position: absolute; }
        .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
        .top-0 { top: 0; }
        .left-0 { left: 0; }
        .z-10 { z-index: 10; }
        .z-50 { z-index: 50; }
        .overflow-hidden { overflow: hidden; }
        .overflow-y-auto { overflow-y: auto; }
        .grid { display: grid; }
        .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
        .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        .grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
        .grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
        .shadow-2xl { box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }
        .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .transition-all { transition: all 0.15s ease; }
        .transition-colors { transition: color 0.15s ease, background-color 0.15s ease; }
        .cursor-pointer { cursor: pointer; }
        .hidden { display: none !important; }
        .space-y-2 > * + * { margin-top: 0.5rem; }
        .space-y-4 > * + * { margin-top: 1rem; }
        .space-y-6 > * + * { margin-top: 1.5rem; }

        /* shadcn-style components */
        .glass-card {
            background: linear-gradient(135deg, rgba(24, 24, 27, 0.9) 0%, rgba(24, 24, 27, 0.7) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(39, 39, 42, 0.8);
        }
        .gradient-text {
            background: linear-gradient(135deg, #f6921d 0%, #f9a94d 50%, #ffb84d 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .btn-primary {
            background: linear-gradient(135deg, #f6921d 0%, #d47a0f 100%);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 30px -10px rgba(246, 146, 29, 0.5);
        }
        .btn-ghost {
            background: transparent;
            border: 1px solid rgba(246, 146, 29, 0.3);
            color: #f6921d;
        }
        .btn-ghost:hover {
            background: rgba(246, 146, 29, 0.1);
        }
        .input-field {
            background: #27272a;
            border: 1px solid #3f3f46;
            transition: all 0.2s ease;
        }
        .input-field:focus {
            border-color: #f6921d;
            box-shadow: 0 0 0 3px rgba(246, 146, 29, 0.1);
            outline: none;
        }
        .nav-item {
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }
        .nav-item:hover {
            background: rgba(246, 146, 29, 0.1);
        }
        .nav-item.active {
            background: rgba(246, 146, 29, 0.15);
            border-left-color: #f6921d;
        }
        .stat-card {
            background: linear-gradient(135deg, #18181b 0%, #1f1f23 100%);
            border: 1px solid #27272a;
        }
        .stat-card:hover {
            border-color: rgba(246, 146, 29, 0.3);
            transform: translateY(-2px);
        }
        .role-badge {
            font-size: 0.65rem;
            padding: 0.15rem 0.5rem;
            border-radius: 9999px;
            font-weight: 600;
            letter-spacing: 0.05em;
        }
        .role-ceo { background: linear-gradient(135deg, #f6921d, #d47a0f); color: white; }
        .role-cto { background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; }
        .role-coo { background: linear-gradient(135deg, #10b981, #059669); color: white; }
        .role-cfo { background: linear-gradient(135deg, #8b5cf6, #6d28d9); color: white; }
        .status-online { color: #22c55e; }
        .status-indicator { width: 8px; height: 8px; border-radius: 50%; background: #22c55e; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .scrollbar-thin::-webkit-scrollbar { width: 6px; }
        .scrollbar-thin::-webkit-scrollbar-track { background: #27272a; }
        .scrollbar-thin::-webkit-scrollbar-thumb { background: #52525b; border-radius: 3px; }
    </style>
</head>
<body class="min-h-screen">
    <!-- Login Screen -->
    <div id="loginScreen" class="min-h-screen flex items-center justify-center p-4 relative overflow-hidden">
        <!-- Background gradient -->
        <div class="absolute inset-0" style="background: radial-gradient(ellipse at top, rgba(246, 146, 29, 0.1) 0%, transparent 50%), radial-gradient(ellipse at bottom, rgba(59, 130, 246, 0.05) 0%, transparent 50%);"></div>

        <!-- Login Card -->
        <div class="relative w-full max-w-md">
            <div class="glass-card rounded-2xl p-8 shadow-2xl">
                <!-- Logo & Header -->
                <div class="text-center mb-8" style="display: flex; flex-direction: column; align-items: center;">
                    <div style="width: 80px; height: 80px; margin: 0 auto 1.5rem auto;">
                        <img src="solaria-logo.png" alt="SOLARIA" style="width: 100%; height: 100%; object-fit: contain;">
                    </div>
                    <h1 class="text-3xl font-bold gradient-text mb-2">SOLARIA Dashboard</h1>
                    <p class="text-muted-foreground text-sm">Digital Field Operations - C-Suite Access</p>
                </div>

                <!-- Quick Access Button -->
                <button type="button" id="quickAccessBtn" class="w-full mb-6 py-3 rounded-lg btn-ghost font-medium flex items-center justify-center gap-2">
                    <i class="fa-solid fa-bolt"></i>
                    <span>Acceso Rápido</span>
                </button>

                <div class="relative mb-6">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-border"></div>
                    </div>
                    <div class="relative flex justify-center text-xs">
                        <span class="px-2 bg-background text-muted-foreground">o ingresa con credenciales</span>
                    </div>
                </div>

                <!-- Login Form -->
                <form id="loginForm" class="space-y-4">
                    <div class="space-y-2">
                        <label for="userId" class="block text-sm font-medium text-foreground">Usuario</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fa-solid fa-user text-muted-foreground text-sm"></i>
                            </div>
                            <input type="text" id="userId" required
                                   class="input-field w-full h-11 pl-10 pr-4 rounded-lg text-foreground placeholder:text-muted-foreground text-sm"
                                   placeholder="Ingresa tu usuario">
                        </div>
                    </div>

                    <div class="space-y-2">
                        <label for="password" class="block text-sm font-medium text-foreground">Contraseña</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fa-solid fa-lock text-muted-foreground text-sm"></i>
                            </div>
                            <input type="password" id="password" required autocomplete="current-password"
                                   class="input-field w-full h-11 pl-10 pr-4 rounded-lg text-foreground placeholder:text-muted-foreground text-sm"
                                   placeholder="Ingresa tu contraseña">
                        </div>
                    </div>

                    <button type="submit" class="btn-primary w-full h-11 rounded-lg text-white font-semibold flex items-center justify-center gap-2 mt-6">
                        <span>Acceder al Dashboard</span>
                        <i class="fa-solid fa-arrow-right text-sm"></i>
                    </button>
                </form>

                <!-- Error Message -->
                <div id="loginError" class="hidden mt-4 p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm text-center"></div>

                <!-- Footer -->
                <div class="mt-8 text-center">
                    <p class="text-xs text-muted-foreground">Powered by <span class="text-solaria font-medium">SOLARIA</span> AI Agents</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Screen -->
    <div id="dashboardScreen" class="min-h-screen flex hidden">
        <!-- Sidebar -->
        <aside class="w-64 bg-card border-r border-border fixed h-full overflow-y-auto scrollbar-thin">
            <div class="p-6">
                <!-- Logo -->
                <div class="flex items-center gap-3 mb-8">
                    <img src="solaria-logo.png" alt="SOLARIA" class="w-10 h-10">
                    <div>
                        <h1 class="text-lg font-bold text-solaria">SOLARIA</h1>
                        <p class="text-xs text-muted-foreground">Field Operations</p>
                    </div>
                </div>

                <!-- User Info -->
                <div class="mb-6 p-3 rounded-lg bg-secondary/50">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-solaria/20 flex items-center justify-center">
                            <span id="userInitial" class="text-solaria font-bold">C</span>
                        </div>
                        <div class="flex-1 min-w-0">
                            <p id="userName" class="font-medium text-foreground truncate text-sm">Carlos J. Pérez</p>
                            <span id="userRole" class="role-badge role-ceo">CEO</span>
                        </div>
                    </div>
                </div>

                <!-- Navigation -->
                <nav class="space-y-1">
                    <p class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3 px-3">Principal</p>
                    <button data-section="overview" class="nav-item active w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-foreground text-sm font-medium">
                        <i class="fa-solid fa-chart-pie w-5 text-center"></i>
                        <span>Overview</span>
                    </button>
                    <button data-section="projects" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground text-sm">
                        <i class="fa-solid fa-folder-open w-5 text-center"></i>
                        <span>Proyectos</span>
                    </button>
                    <button data-section="agents" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground text-sm">
                        <i class="fa-solid fa-robot w-5 text-center"></i>
                        <span>Agentes IA</span>
                    </button>
                    <button data-section="tasks" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground text-sm">
                        <i class="fa-solid fa-list-check w-5 text-center"></i>
                        <span>Tareas</span>
                    </button>

                    <p class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3 px-3 mt-6">Monitoreo</p>
                    <button data-section="alerts" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground text-sm">
                        <i class="fa-solid fa-bell w-5 text-center"></i>
                        <span>Alertas</span>
                        <span id="alertBadge" class="ml-auto px-2 py-0.5 text-xs rounded-full bg-destructive text-white hidden">0</span>
                    </button>
                    <button data-section="docs" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground text-sm">
                        <i class="fa-solid fa-book w-5 text-center"></i>
                        <span>Docs</span>
                    </button>
                    <button data-section="analytics" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground text-sm">
                        <i class="fa-solid fa-chart-line w-5 text-center"></i>
                        <span>Analytics</span>
                    </button>

                    <p class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3 px-3 mt-6">C-Suite</p>
                    <button data-section="ceo" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground text-sm">
                        <i class="fa-solid fa-crown w-5 text-center text-solaria"></i>
                        <span>CEO Dashboard</span>
                    </button>
                    <button data-section="cto" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground text-sm">
                        <i class="fa-solid fa-microchip w-5 text-center text-blue-500"></i>
                        <span>CTO Dashboard</span>
                    </button>
                    <button data-section="coo" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground text-sm">
                        <i class="fa-solid fa-gears w-5 text-center text-green-500"></i>
                        <span>COO Dashboard</span>
                    </button>
                    <button data-section="cfo" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground text-sm">
                        <i class="fa-solid fa-chart-pie w-5 text-center text-purple-500"></i>
                        <span>CFO Dashboard</span>
                    </button>

                    <p class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3 px-3 mt-6">Sistema</p>
                    <button data-section="logs" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground text-sm">
                        <i class="fa-solid fa-clock-rotate-left w-5 text-center"></i>
                        <span>Activity Logs</span>
                    </button>
                    <button data-section="settings" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground text-sm">
                        <i class="fa-solid fa-gear w-5 text-center"></i>
                        <span>Configuracion</span>
                    </button>
                </nav>

                <!-- Logout -->
                <div class="mt-8 pt-6 border-t border-border">
                    <button onclick="logout()" class="w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition-colors text-sm">
                        <i class="fa-solid fa-right-from-bracket w-5 text-center"></i>
                        <span>Cerrar Sesión</span>
                    </button>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 ml-64">
            <!-- Top Bar -->
            <header class="sticky top-0 z-10 bg-background/80 backdrop-blur-sm border-b border-border px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 id="pageTitle" class="text-xl font-semibold text-foreground">Overview</h1>
                        <p id="pageSubtitle" class="text-sm text-muted-foreground">Vista ejecutiva del proyecto</p>
                    </div>
                    <div class="flex items-center gap-4">
                        <div class="flex items-center gap-2 text-sm">
                            <span class="status-indicator"></span>
                            <span id="systemStatus" class="text-muted-foreground">Sistema Operativo</span>
                        </div>
                        <div class="text-sm text-muted-foreground">
                            <span id="currentDateTime"></span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Content Area -->
            <div class="p-6">
                <!-- Overview Section -->
                <section id="overviewSection">
                    <!-- Stats Cards - Interactive -->
                    <div class="grid grid-cols-4 gap-4 mb-6">
                        <div class="stat-card rounded-xl p-4 transition-all cursor-pointer hover:border-solaria/50" data-card="projects">
                            <div class="flex items-center justify-between mb-3">
                                <div class="w-10 h-10 rounded-lg bg-solaria/10 flex items-center justify-center">
                                    <i class="fa-solid fa-folder text-solaria"></i>
                                </div>
                                <span class="text-xs text-green-500 font-medium">Activo</span>
                            </div>
                            <p class="text-2xl font-bold text-foreground" id="totalProjects">0</p>
                            <p class="text-sm text-muted-foreground">Proyectos</p>
                        </div>
                        <div class="stat-card rounded-xl p-4 transition-all cursor-pointer hover:border-solaria/50" data-card="agents">
                            <div class="flex items-center justify-between mb-3">
                                <div class="w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center">
                                    <i class="fa-solid fa-robot text-blue-500"></i>
                                </div>
                                <span class="text-xs text-green-500 font-medium">Online</span>
                            </div>
                            <p class="text-2xl font-bold text-foreground" id="activeAgents">0</p>
                            <p class="text-sm text-muted-foreground">Agentes SOLARIA</p>
                        </div>
                        <div class="stat-card rounded-xl p-4 transition-all cursor-pointer hover:border-solaria/50" data-card="tasks">
                            <div class="flex items-center justify-between mb-3">
                                <div class="w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center">
                                    <i class="fa-solid fa-list-check text-green-500"></i>
                                </div>
                                <span class="text-xs text-muted-foreground">Total</span>
                            </div>
                            <p class="text-2xl font-bold text-foreground" id="completedTasks">0</p>
                            <p class="text-sm text-muted-foreground">Tareas Completadas</p>
                        </div>
                        <div class="stat-card rounded-xl p-4 transition-all cursor-pointer hover:border-solaria/50" data-card="alerts">
                            <div class="flex items-center justify-between mb-3">
                                <div class="w-10 h-10 rounded-lg bg-red-500/10 flex items-center justify-center">
                                    <i class="fa-solid fa-triangle-exclamation text-red-500"></i>
                                </div>
                                <span id="alertIndicator" class="text-xs text-green-500 font-medium">OK</span>
                            </div>
                            <p class="text-2xl font-bold text-foreground" id="criticalAlerts">0</p>
                            <p class="text-sm text-muted-foreground">Alertas</p>
                        </div>
                    </div>

                    <!-- Charts Row -->
                    <div class="grid grid-cols-2 gap-6 mb-6">
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Progreso del Proyecto</h3>
                            <div class="h-64">
                                <canvas id="projectProgressChart"></canvas>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Rendimiento de Agentes</h3>
                            <div class="h-64">
                                <canvas id="agentPerformanceChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Executive Role Cards -->
                    <div class="grid grid-cols-4 gap-4 mb-6">
                        <div class="bg-card rounded-xl p-4 border border-border hover:border-solaria/30 transition-all cursor-pointer" onclick="showRoleView('ceo')">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-solaria to-solaria-dark flex items-center justify-center">
                                    <i class="fa-solid fa-crown text-white text-sm"></i>
                                </div>
                                <div>
                                    <p class="font-semibold text-foreground">CEO View</p>
                                    <p class="text-xs text-muted-foreground">Estrategia Global</p>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">ROI Proyectado</span>
                                    <span class="text-green-500 font-medium">+24%</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">Presupuesto</span>
                                    <span class="text-foreground">$2.4M</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-4 border border-border hover:border-blue-500/30 transition-all cursor-pointer" onclick="showRoleView('cto')">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center">
                                    <i class="fa-solid fa-microchip text-white text-sm"></i>
                                </div>
                                <div>
                                    <p class="font-semibold text-foreground">CTO View</p>
                                    <p class="text-xs text-muted-foreground">Tecnología</p>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">Cobertura Tests</span>
                                    <span class="text-green-500 font-medium">87%</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">Deuda Técnica</span>
                                    <span class="text-yellow-500">Media</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-4 border border-border hover:border-green-500/30 transition-all cursor-pointer" onclick="showRoleView('coo')">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-green-500 to-green-700 flex items-center justify-center">
                                    <i class="fa-solid fa-gears text-white text-sm"></i>
                                </div>
                                <div>
                                    <p class="font-semibold text-foreground">COO View</p>
                                    <p class="text-xs text-muted-foreground">Operaciones</p>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">Velocidad</span>
                                    <span class="text-foreground">42 pts/sprint</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">Utilización</span>
                                    <span class="text-green-500 font-medium">94%</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-4 border border-border hover:border-purple-500/30 transition-all cursor-pointer" onclick="showRoleView('cfo')">
                            <div class="flex items-center gap-3 mb-3">
                                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center">
                                    <i class="fa-solid fa-chart-pie text-white text-sm"></i>
                                </div>
                                <div>
                                    <p class="font-semibold text-foreground">CFO View</p>
                                    <p class="text-xs text-muted-foreground">Finanzas</p>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">Burn Rate</span>
                                    <span class="text-foreground">$45K/mes</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">Runway</span>
                                    <span class="text-green-500 font-medium">18 meses</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="bg-card rounded-xl p-6 border border-border">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold text-foreground">Actividad Reciente</h3>
                            <button class="text-sm text-solaria hover:underline">Ver todo</button>
                        </div>
                        <div id="recentActivity" class="space-y-3">
                            <p class="text-muted-foreground text-sm">Cargando actividad...</p>
                        </div>
                    </div>
                </section>

                <!-- Projects Section -->
                <section id="projectsSection" class="hidden">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-semibold text-foreground">Gestión de Proyectos</h2>
                        <button class="btn-primary px-4 py-2 rounded-lg text-white text-sm font-medium flex items-center gap-2">
                            <i class="fa-solid fa-plus"></i>
                            Nuevo Proyecto
                        </button>
                    </div>
                    <div id="projectsGrid" class="grid grid-cols-3 gap-4">
                        <p class="text-muted-foreground">Cargando proyectos...</p>
                    </div>
                </section>

                <!-- Agents Section -->
                <section id="agentsSection" class="hidden">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-semibold text-foreground">Agentes IA</h2>
                        <button onclick="refreshAgents()" class="btn-ghost px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2">
                            <i class="fa-solid fa-rotate"></i>
                            Actualizar
                        </button>
                    </div>
                    <div id="agentsGrid" class="grid grid-cols-3 gap-4">
                        <p class="text-muted-foreground">Cargando agentes...</p>
                    </div>
                </section>

                <!-- Tasks Section -->
                <section id="tasksSection" class="hidden">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-semibold text-foreground">Gestión de Tareas</h2>
                        <div class="flex gap-2">
                            <select class="input-field px-3 py-2 rounded-lg text-sm">
                                <option>Todas las tareas</option>
                                <option>Pendientes</option>
                                <option>En progreso</option>
                                <option>Completadas</option>
                            </select>
                        </div>
                    </div>
                    <div id="tasksList" class="space-y-3">
                        <p class="text-muted-foreground">Cargando tareas...</p>
                    </div>
                </section>

                <!-- Alerts Section -->
                <section id="alertsSection" class="hidden">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-semibold text-foreground">Centro de Alertas</h2>
                        <select class="input-field px-3 py-2 rounded-lg text-sm">
                            <option>Todas las severidades</option>
                            <option>Críticas</option>
                            <option>Altas</option>
                            <option>Medias</option>
                            <option>Bajas</option>
                        </select>
                    </div>
                    <div id="alertsContainer" class="space-y-3">
                        <p class="text-muted-foreground">No hay alertas</p>
                    </div>
                </section>

                <!-- Docs Section -->
                <section id="docsSection" class="hidden">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h2 class="text-lg font-semibold text-foreground">Documentacion del Proyecto</h2>
                            <p class="text-sm text-muted-foreground">Archivos de documentacion disponibles en el repositorio</p>
                        </div>
                        <button class="btn-ghost px-4 py-2 rounded-lg text-sm flex items-center gap-2" onclick="dashboard.loadProjectDocs()">
                            <i class="fa-solid fa-rotate"></i> Refrescar
                        </button>
                    </div>
                    <!-- Document List -->
                    <div id="docsListContainer" class="space-y-3">
                        <p class="text-muted-foreground">Cargando documentos...</p>
                    </div>
                </section>

                <!-- Analytics Section -->
                <section id="analyticsSection" class="hidden">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-semibold text-foreground">Analytics & Reportes</h2>
                        <select id="analyticsTimeframe" class="input-field px-3 py-2 rounded-lg text-sm" onchange="dashboard.loadAnalyticsData()">
                            <option value="7">Ultimos 7 dias</option>
                            <option value="30" selected>Ultimos 30 dias</option>
                            <option value="90">Ultimos 90 dias</option>
                        </select>
                    </div>

                    <!-- KPI Summary -->
                    <div id="analyticsKpis" class="grid grid-cols-4 gap-4 mb-6">
                        <div class="stat-card rounded-xl p-4">
                            <p class="text-2xl font-bold text-foreground" id="analyticsTotalTasks">0</p>
                            <p class="text-sm text-muted-foreground">Tareas Totales</p>
                        </div>
                        <div class="stat-card rounded-xl p-4">
                            <p class="text-2xl font-bold text-green-500" id="analyticsCompletedTasks">0</p>
                            <p class="text-sm text-muted-foreground">Completadas</p>
                        </div>
                        <div class="stat-card rounded-xl p-4">
                            <p class="text-2xl font-bold text-blue-500" id="analyticsAvgProgress">0%</p>
                            <p class="text-sm text-muted-foreground">Progreso Promedio</p>
                        </div>
                        <div class="stat-card rounded-xl p-4">
                            <p class="text-2xl font-bold text-solaria" id="analyticsActiveAgents">0</p>
                            <p class="text-sm text-muted-foreground">Agentes Activos</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-6 mb-6">
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="font-semibold text-foreground mb-4">Tendencia de Productividad</h3>
                            <div class="h-64">
                                <canvas id="productivityChart"></canvas>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="font-semibold text-foreground mb-4">Tareas por Estado</h3>
                            <div class="h-64">
                                <canvas id="tasksByStatusChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Agent Performance Table -->
                    <div class="bg-card rounded-xl p-6 border border-border">
                        <h3 class="font-semibold text-foreground mb-4">Rendimiento por Agente</h3>
                        <div id="agentPerformanceTable" class="overflow-x-auto">
                            <p class="text-muted-foreground">Cargando datos...</p>
                        </div>
                    </div>
                </section>

                <!-- Logs Section -->
                <section id="logsSection" class="hidden">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-semibold text-foreground">Activity Logs</h2>
                        <div class="flex gap-2">
                            <select id="logsLevelFilter" class="input-field px-3 py-2 rounded-lg text-sm" onchange="dashboard.filterLogs()">
                                <option value="all">Todos los niveles</option>
                                <option value="info">Info</option>
                                <option value="warning">Warning</option>
                                <option value="error">Error</option>
                            </select>
                            <button class="btn-ghost px-3 py-2 rounded-lg text-sm" onclick="dashboard.loadActivityLogs()">
                                <i class="fa-solid fa-rotate"></i>
                            </button>
                        </div>
                    </div>
                    <div id="logsContainer" class="bg-card rounded-xl border border-border divide-y divide-border">
                        <p class="p-4 text-muted-foreground">Cargando logs...</p>
                    </div>
                </section>

                <!-- Settings Section -->
                <section id="settingsSection" class="hidden">
                    <h2 class="text-lg font-semibold text-foreground mb-6">Configuración</h2>
                    <div class="bg-card rounded-xl p-6 border border-border space-y-6">
                        <div>
                            <h3 class="font-semibold text-foreground mb-4">Preferencias de Notificaciones</h3>
                            <div class="space-y-3">
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" checked class="w-4 h-4 rounded border-border bg-secondary">
                                    <span class="text-sm text-foreground">Alertas críticas por email</span>
                                </label>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" checked class="w-4 h-4 rounded border-border bg-secondary">
                                    <span class="text-sm text-foreground">Resumen diario</span>
                                </label>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" class="w-4 h-4 rounded border-border bg-secondary">
                                    <span class="text-sm text-foreground">Notificaciones push</span>
                                </label>
                            </div>
                        </div>
                        <div class="pt-6 border-t border-border">
                            <h3 class="font-semibold text-foreground mb-4">Información del Sistema</h3>
                            <div class="grid grid-cols-2 gap-4 text-sm">
                                <div>
                                    <p class="text-muted-foreground">Versión</p>
                                    <p class="text-foreground font-medium">2.0.0</p>
                                </div>
                                <div>
                                    <p class="text-muted-foreground">Última actualización</p>
                                    <p class="text-foreground font-medium">10 Dic 2025</p>
                                </div>
                                <div>
                                    <p class="text-muted-foreground">Base de datos</p>
                                    <p class="text-green-500 font-medium">Conectada</p>
                                </div>
                                <div>
                                    <p class="text-muted-foreground">Agentes IA</p>
                                    <p class="text-green-500 font-medium">Operativos</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- CEO Section -->
                <section id="ceoSection" class="hidden">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-solaria to-solaria-dark flex items-center justify-center">
                            <i class="fa-solid fa-crown text-white text-xl"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-bold text-foreground">CEO Dashboard</h2>
                            <p class="text-muted-foreground">Visión Estratégica Global</p>
                        </div>
                    </div>

                    <!-- CEO KPIs -->
                    <div class="grid grid-cols-4 gap-4 mb-6" id="ceoKpis">
                        <div class="stat-card rounded-xl p-4"><p class="text-muted-foreground text-sm">Cargando...</p></div>
                    </div>

                    <!-- Project Overview & Strategic Info -->
                    <div class="grid grid-cols-3 gap-6 mb-6">
                        <div class="col-span-2 bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Resumen del Proyecto</h3>
                            <div id="ceoProjectSummary" class="space-y-4">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Decisiones Estratégicas</h3>
                            <div id="ceoDecisions" class="space-y-3">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Alerts & Timeline -->
                    <div class="grid grid-cols-2 gap-6">
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Alertas Críticas</h3>
                            <div id="ceoCriticalAlerts" class="space-y-3">
                                <p class="text-green-500 text-sm">Sin alertas críticas</p>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Resumen Ejecutivo</h3>
                            <div id="ceoExecutiveSummary" class="text-sm text-foreground">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- CTO Section -->
                <section id="ctoSection" class="hidden">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center">
                            <i class="fa-solid fa-microchip text-white text-xl"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-bold text-foreground">CTO Dashboard</h2>
                            <p class="text-muted-foreground">Tecnología & Arquitectura</p>
                        </div>
                    </div>

                    <!-- CTO KPIs -->
                    <div class="grid grid-cols-4 gap-4 mb-6" id="ctoKpis">
                        <div class="stat-card rounded-xl p-4"><p class="text-muted-foreground text-sm">Cargando...</p></div>
                    </div>

                    <!-- Tech Stack & Architecture -->
                    <div class="grid grid-cols-2 gap-6 mb-6">
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Stack Tecnológico</h3>
                            <div id="ctoTechStack" class="space-y-3">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Componentes de Arquitectura</h3>
                            <div id="ctoArchitecture" class="space-y-3">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Code Quality & Tech Debt -->
                    <div class="grid grid-cols-3 gap-6">
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Calidad de Código</h3>
                            <div id="ctoCodeQuality" class="space-y-3">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Deuda Técnica</h3>
                            <div id="ctoTechDebt" class="space-y-3">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Rendimiento Agentes</h3>
                            <div id="ctoAgentPerformance" class="space-y-3">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- COO Section -->
                <section id="cooSection" class="hidden">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-green-500 to-green-700 flex items-center justify-center">
                            <i class="fa-solid fa-gears text-white text-xl"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-bold text-foreground">COO Dashboard</h2>
                            <p class="text-muted-foreground">Operaciones & Flujo de Trabajo</p>
                        </div>
                    </div>

                    <!-- COO KPIs -->
                    <div class="grid grid-cols-4 gap-4 mb-6" id="cooKpis">
                        <div class="stat-card rounded-xl p-4"><p class="text-muted-foreground text-sm">Cargando...</p></div>
                    </div>

                    <!-- Tasks & Workflow -->
                    <div class="grid grid-cols-2 gap-6 mb-6">
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Estado de Tareas</h3>
                            <div id="cooTaskStatus" class="space-y-3">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Utilización de Agentes</h3>
                            <div id="cooAgentUtilization" class="space-y-3">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Bottlenecks & Timeline -->
                    <div class="grid grid-cols-2 gap-6">
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Cuellos de Botella</h3>
                            <div id="cooBottlenecks" class="space-y-3">
                                <p class="text-green-500 text-sm">Sin bloqueos detectados</p>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Próximos Hitos</h3>
                            <div id="cooMilestones" class="space-y-3">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- CFO Section -->
                <section id="cfoSection" class="hidden">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center">
                            <i class="fa-solid fa-chart-pie text-white text-xl"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-bold text-foreground">CFO Dashboard</h2>
                            <p class="text-muted-foreground">Finanzas & Presupuesto</p>
                        </div>
                    </div>

                    <!-- CFO KPIs -->
                    <div class="grid grid-cols-4 gap-4 mb-6" id="cfoKpis">
                        <div class="stat-card rounded-xl p-4"><p class="text-muted-foreground text-sm">Cargando...</p></div>
                    </div>

                    <!-- Budget & Costs -->
                    <div class="grid grid-cols-2 gap-6 mb-6">
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Desglose de Presupuesto</h3>
                            <div id="cfoBudgetBreakdown" class="space-y-3">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Costos por Proyecto</h3>
                            <div id="cfoCostByProject" class="space-y-3">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Approvals & Projections -->
                    <div class="grid grid-cols-2 gap-6">
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Aprobaciones Pendientes</h3>
                            <div id="cfoApprovals" class="space-y-3">
                                <p class="text-muted-foreground">Cargando...</p>
                            </div>
                        </div>
                        <div class="bg-card rounded-xl p-6 border border-border">
                            <h3 class="text-lg font-semibold text-foreground mb-4">Alertas Financieras</h3>
                            <div id="cfoFinancialAlerts" class="space-y-3">
                                <p class="text-green-500 text-sm">Sin alertas financieras</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="hidden fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center">
        <div class="flex flex-col items-center gap-4">
            <div class="w-12 h-12 border-4 border-solaria/20 border-t-solaria rounded-full animate-spin"></div>
            <p class="text-muted-foreground">Cargando...</p>
        </div>
    </div>

    <!-- Dashboard JavaScript -->
    <script src="dashboard.js"></script>

    <!-- DateTime Update -->
    <script>
        function updateDateTime() {
            const el = document.getElementById('currentDateTime');
            if (el) {
                el.textContent = new Date().toLocaleString('es-ES', {
                    weekday: 'short',
                    day: 'numeric',
                    month: 'short',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            }
        }
        updateDateTime();
        setInterval(updateDateTime, 1000);
    </script>

    <!-- Quick Access Handler -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const quickAccessBtn = document.getElementById('quickAccessBtn');
            if (quickAccessBtn) {
                quickAccessBtn.addEventListener('click', async function() {
                    try {
                        const response = await fetch('/api/auth/login', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ userId: 'carlosjperez', password: 'bypass' })
                        });
                        if (response.ok) {
                            const data = await response.json();
                            localStorage.setItem('solaria_token', data.token);
                            window.location.reload();
                        } else {
                            alert('Error de acceso. Use credenciales.');
                        }
                    } catch (error) {
                        console.error('Quick access error:', error);
                        alert('Error de conexión: ' + error.message);
                    }
                });
            }
        });

        // Role View Functions - Navigate to full C-Suite sections
        function showRoleView(role) {
            // Use the dashboard's showSection method to navigate to full page view
            if (typeof dashboard !== 'undefined' && dashboard.showSection) {
                dashboard.showSection(role);
            }
        }
    </script>
</body>
</html>
